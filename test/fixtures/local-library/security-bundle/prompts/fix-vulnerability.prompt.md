# Fix Security Vulnerability

Remediate security vulnerabilities with secure code alternatives.

## Common Vulnerabilities & Fixes

### SQL Injection

```javascript
// ❌ Vulnerable
const query = `SELECT * FROM users WHERE id = ${userId}`;

// ✅ Secure - Parameterized query
const query = 'SELECT * FROM users WHERE id = ?';
db.query(query, [userId]);
```

### XSS (Cross-Site Scripting)

```javascript
// ❌ Vulnerable
element.innerHTML = userInput;

// ✅ Secure - Use textContent or sanitize
element.textContent = userInput;
// OR use DOMPurify
element.innerHTML = DOMPurify.sanitize(userInput);
```

### Insecure Authentication

```javascript
// ❌ Vulnerable - Plain text password
const user = { password: req.body.password };

// ✅ Secure - Hashed password
const bcrypt = require('bcrypt');
const hashedPassword = await bcrypt.hash(req.body.password, 10);
const user = { password: hashedPassword };
```

### Exposed Secrets

```javascript
// ❌ Vulnerable
const apiKey = 'sk-abc123xyz456';

// ✅ Secure
const apiKey = process.env.API_KEY;
```

### Path Traversal

```javascript
// ❌ Vulnerable
const file = fs.readFileSync(req.query.file);

// ✅ Secure - Validate and sanitize
const path = require('path');
const safeFile = path.basename(req.query.file);
const file = fs.readFileSync(path.join(__dirname, 'uploads', safeFile));
```

Secure your code against common vulnerabilities\!
